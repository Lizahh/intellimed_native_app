<div class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h2 class="modal-title">Add New Patient</h2>
      <button class="modal-close" (click)="cancel()">Ã—</button>
    </div>
    
    <div class="modal-body">
      <form [formGroup]="patientForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Patient Name</label>
          <input 
            type="text" 
            id="name" 
            formControlName="name" 
            class="form-control"
            placeholder="Enter full name"
            [class.is-invalid]="patientForm.get('name')?.invalid && patientForm.get('name')?.touched"
          >
          <div class="error-message" *ngIf="patientForm.get('name')?.invalid && patientForm.get('name')?.touched">
            <span *ngIf="patientForm.get('name')?.errors?.['required']">Name is required</span>
            <span *ngIf="patientForm.get('name')?.errors?.['minlength']">Name must be at least 2 characters</span>
          </div>
        </div>
        
        <div class="form-group">
          <label for="dob">Date of Birth</label>
          <input 
            type="date" 
            id="dob" 
            formControlName="dob" 
            class="form-control"
            [class.is-invalid]="patientForm.get('dob')?.invalid && patientForm.get('dob')?.touched"
          >
          <div class="error-message" *ngIf="patientForm.get('dob')?.invalid && patientForm.get('dob')?.touched">
            Date of birth is required
          </div>
        </div>
        
        <div class="form-group">
          <label for="mrn">Medical Record Number (MRN)</label>
          <input 
            type="text" 
            id="mrn" 
            formControlName="mrn" 
            class="form-control"
            placeholder="Enter MRN"
            [class.is-invalid]="patientForm.get('mrn')?.invalid && patientForm.get('mrn')?.touched"
          >
          <div class="error-message" *ngIf="patientForm.get('mrn')?.invalid && patientForm.get('mrn')?.touched">
            MRN is required
          </div>
        </div>
        

        
        <div class="form-group">
          <label for="status">Visit Type</label>
          <select 
            id="status" 
            formControlName="status" 
            class="form-control"
            [class.is-invalid]="patientForm.get('status')?.invalid && patientForm.get('status')?.touched"
          >
            <option value="new-patient">New Consult</option>
            <option value="follow-up">Follow Up</option>
            <option value="annual-physical">Annual Physical</option>
          </select>
          <div class="error-message" *ngIf="patientForm.get('status')?.invalid && patientForm.get('status')?.touched">
            Visit type is required
          </div>
        </div>
        
        <div class="form-error" *ngIf="formError">{{ formError }}</div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-outline" (click)="cancel()">Cancel</button>
          <button type="submit" class="btn btn-purple" [disabled]="isSubmitting || patientForm.invalid">Add Patient</button>
        </div>
      </form>
    </div>
  </div>
</div>